{% macro getAvatar(entity_field, type, opts) %}
    {% import _self as userMacro %}
    {% if  type == 'activity' %}
        {{ userMacro.getAvatarActivity(entity_field, type, opts) }}
    {% elseif type == 'profil' or type == 'myProfil' %}
        {{ userMacro.getAvatarProfil(entity_field, type, opts) }}
    {% endif %}
{% endmacro %}

{% macro getAvatarProfil(entity_field, type, opts) %}
    {% import _self as userMacro %}
    {% if type == 'myProfil' %}
        {% if not entity_field == null %}
            {% set avatar_name = asset('uploads/img/' ~ entity_field.name) %}
        {% else %}
            {% set avatar_name = asset('assets/app/img/img_avatar2.png') %}
        {% endif %}

        {% set opts_string = '' %}
        {% if not opts == 'inModal' %}
            {% set opts_string = ' data-toggle=modal data-target=#modalAvatar' %}
        {% endif %}
        {{ userMacro.getImg('img-circle img-thumbnail currentAvatar center-block', avatar_name, 'Image couverture', opts_string) }}
    {% elseif type == 'friendProfil' %}

    {% endif %}
{% endmacro %}

{% macro getAvatarActivity(entity_field, type, opts) %}
    {% import _self as userMacro %}
    {% if not entity_field == null %}
        {% set avatar_name = asset('uploads/img/' ~ entity_field.name) %}
    {% else %}
        {% set avatar_name = asset('assets/app/img/img_avatar2.png') %}
    {% endif %}
    {{ userMacro.getImg('img-circle activity-avatar', avatar_name, 'Avatar') }}
{% endmacro %}

{% macro getImg(class, src, alt, opts) %}
    <img class="{{ class }}" src="{{ src }}" alt="{{ alt }}" {% if opts is defined %}{{ opts }}{% endif %}>
{% endmacro %}

